import"../chunks/CWj6FrbW.js";import{i as Q}from"../chunks/GiuK-csF.js";import{s as K,e as J,c as ye,a as Pe}from"../chunks/B0KlC8no.js";import{ag as qe,v as De,B as re,w as T,a7 as Ke,x as Ee,h as t,M as W,y as He,z as Ge,A as be,C as se,I as F,aa as ze,D as xe,F as Ae,G as We,aw as ie,ae as Le,a1 as he,ax as Ue,V as L,ay as me,a5 as Ye,az as Ve,aA as Fe,ad as Je,aB as Xe,aC as Qe,aD as Ze,aE as je,a8 as $e,aF as ea,aG as aa,aH as ta,aI as na,aJ as ra,p as Y,aK as I,aL as ue,l as P,t as U,a as O,m as V,P as g,i as X,n as E,o as y,q as x,aM as sa,aN as le}from"../chunks/By9SIJVY.js";import{p,i as ia}from"../chunks/OFGzDuZl.js";let ke=!1;function la(){ke||(ke=!0,document.addEventListener("reset",n=>{Promise.resolve().then(()=>{var e;if(!n.defaultPrevented)for(const a of n.target.elements)(e=a.__on_r)==null||e.call(a)})},{capture:!0}))}function oa(n,e){return e}function ua(n,e,a,s){for(var f=[],c=e.length,l=0;l<c;l++)Fe(e[l].e,f,!0);var d=c>0&&f.length===0&&a!==null;if(d){var h=a.parentNode;Je(h),h.append(a),s.clear(),N(n,e[0].prev,e[c-1].next)}Xe(f,()=>{for(var b=0;b<c;b++){var r=e[b];d||(s.delete(r.k),N(n,r.prev,r.next)),Qe(r.e,!d)}})}function va(n,e,a,s,f,c=null){var l=n,d={flags:e,items:new Map,first:null};{var h=n;l=T?re(Ke(h)):h.appendChild(qe())}T&&Ee();var b=null,r=!1,u=W(()=>{var i=a();return Ye(i)?i:i==null?[]:Le(i)});De(()=>{var i=t(u),v=i.length;if(r&&v===0)return;r=v===0;let _=!1;if(T){var S=He(l)===Ge;S!==(v===0)&&(l=be(),re(l),se(!1),_=!0)}if(T){for(var k=null,o,m=0;m<v;m++){if(F.nodeType===8&&F.data===ze){l=F,_=!0,se(!1);break}var A=i[m],R=s(A,m);o=Se(F,d,k,null,A,R,m,f,e,a),d.items.set(R,o),k=o}v>0&&re(be())}T||da(i,d,l,f,e,s,a),c!==null&&(v===0?b?xe(b):b=Ae(()=>c(l)):b!==null&&We(b,()=>{b=null})),_&&se(!0),t(u)}),T&&(l=F)}function da(n,e,a,s,f,c,l){var d=n.length,h=e.items,b=e.first,r=b,u,i=null,v=[],_=[],S,k,o,m;for(m=0;m<d;m+=1){if(S=n[m],k=c(S,m),o=h.get(k),o===void 0){var A=r?r.e.nodes_start:a;i=Se(A,e,i,i===null?e.first:i.next,S,k,m,s,f,l),h.set(k,i),v=[],_=[],r=i.next;continue}if(ca(o,S,m),(o.e.f&ie)!==0&&xe(o.e),o!==r){if(u!==void 0&&u.has(o)){if(v.length<_.length){var R=_[0],M;i=R.prev;var G=v[0],q=v[v.length-1];for(M=0;M<v.length;M+=1)pe(v[M],R,a);for(M=0;M<_.length;M+=1)u.delete(_[M]);N(e,G.prev,q.next),N(e,i,G),N(e,q,R),r=R,i=q,m-=1,v=[],_=[]}else u.delete(o),pe(o,r,a),N(e,o.prev,o.next),N(e,o,i===null?e.first:i.next),N(e,i,o),i=o;continue}for(v=[],_=[];r!==null&&r.k!==k;)(r.e.f&ie)===0&&(u??(u=new Set)).add(r),_.push(r),r=r.next;if(r===null)continue;o=r}v.push(o),i=o,r=o.next}if(r!==null||u!==void 0){for(var D=u===void 0?[]:Le(u);r!==null;)(r.e.f&ie)===0&&D.push(r),r=r.next;var Z=D.length;if(Z>0){var j=d===0?a:null;ua(e,D,j,h)}}he.first=e.first&&e.first.e,he.last=i&&i.e}function ca(n,e,a,s){Ue(n.v,e),n.i=a}function Se(n,e,a,s,f,c,l,d,h,b){var r=(h&Ze)!==0,u=(h&je)===0,i=r?u?L(f):me(f):f,v=(h&Ve)===0?l:me(l),_={i:v,v:i,k:c,a:null,e:null,prev:a,next:s};try{return _.e=Ae(()=>d(n,i,v,b),T),_.e.prev=a&&a.e,_.e.next=s&&s.e,a===null?e.first=_:(a.next=_,a.e.next=_.e),s!==null&&(s.prev=_,s.e.prev=_.e),_}finally{}}function pe(n,e,a){for(var s=n.next?n.next.e.nodes_start:a,f=e?e.e.nodes_start:a,c=n.e.nodes_start;c!==s;){var l=$e(c);f.before(c),c=l}}function N(n,e,a){e===null?n.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}function Re(n,e,a,s,f){var d;T&&Ee();var c=(d=e.$$slots)==null?void 0:d[a],l=!1;c===!0&&(c=e.children,l=!0),c===void 0||c(n,l?()=>s:s)}function fa(n,e,a){var s=n==null?"":""+n;return e&&(s=s?s+" "+e:e),s===""?null:s}function ee(n,e,a,s,f,c){var l=n.__className;if(T||l!==a||l===void 0){var d=fa(a,s);(!T||d!==n.getAttribute("class"))&&(d==null?n.removeAttribute("class"):n.className=d),n.__className=a}return c}const _a=Symbol("is custom element"),ga=Symbol("is html");function ba(n){if(T){var e=!1,a=()=>{if(!e){if(e=!0,n.hasAttribute("value")){var s=n.value;H(n,"value",null),n.value=s}if(n.hasAttribute("checked")){var f=n.checked;H(n,"checked",null),n.checked=f}}};n.__on_r=a,na(a),la()}}function ha(n,e){var a=Be(n);a.value===(a.value=e??void 0)||n.value===e&&(e!==0||n.nodeName!=="PROGRESS")||(n.value=e??"")}function H(n,e,a,s){var f=Be(n);T&&(f[e]=n.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&n.nodeName==="LINK")||f[e]!==(f[e]=a)&&(e==="loading"&&(n[ea]=a),a==null?n.removeAttribute(e):typeof a!="string"&&ma(n).includes(e)?n[e]=a:n.setAttribute(e,a))}function Be(n){return n.__attributes??(n.__attributes={[_a]:n.nodeName.includes("-"),[ga]:n.namespaceURI===aa})}var Me=new Map;function ma(n){var e=Me.get(n.nodeName);if(e)return e;Me.set(n.nodeName,e=[]);for(var a,s=n,f=Element.prototype;f!==s;){a=ra(s);for(var c in a)a[c].set&&e.push(c);s=ta(s)}return e}var ka=P("<div></div>"),pa=P('<div class="bar-percent svelte-5qgytg"> </div>'),Ma=P('<div><div class="bar-label svelte-5qgytg"> </div> <div class="bar-blocks svelte-5qgytg" role="progressbar" aria-valuemin="0" aria-valuemax="100"></div> <!> <!></div>');function ya(n,e){Y(e,!1);const a=L(),s=L(),f=L();let c=p(e,"percent",8,0),l=p(e,"blocks",8,30),d=p(e,"label",8,"PROGRESS"),h=p(e,"showPercent",8,!0),b=p(e,"hideOnMobile",8,!0);I(()=>X(c()),()=>{g(a,Math.max(0,Math.min(100,Math.round(c()))))}),I(()=>(t(a),X(l())),()=>{g(s,Math.round(t(a)/100*l()))}),I(()=>(X(l()),t(s)),()=>{g(f,Array.from({length:l()},(o,m)=>m<t(s)))}),ue();var r=Ma(),u=E(r),i=E(u,!0);y(u);var v=x(u,2);va(v,5,()=>t(f),oa,(o,m)=>{var A=ka();U(()=>ee(A,1,`bar-block ${t(m)?"filled":""}`,"svelte-5qgytg")),O(o,A)}),y(v);var _=x(v,2);{var S=o=>{var m=pa(),A=E(m);y(m),U(()=>K(A,`${t(a)??""}%`)),O(o,m)};ia(_,o=>{h()&&o(S)})}var k=x(_,2);Re(k,e,"default",{}),y(r),U(()=>{ee(r,1,`bar ${b()?"hide-mobile":""}`,"svelte-5qgytg"),H(r,"aria-label",d()),K(i,d()),H(v,"aria-valuenow",t(a))}),O(n,r),V()}var Ea=P('<button><span class="btn-text svelte-1w7e3r2"> </span> <!></button>');function oe(n,e){Y(e,!1);let a=p(e,"label",8),s=p(e,"variant",8,"default"),f=p(e,"disabled",8,!1),c=p(e,"ariaLabel",8),l=p(e,"size",8,"md"),d=p(e,"onClick",8);function h(){!f()&&d()&&d()()}Q();var b=Ea(),r=E(b),u=E(r,!0);y(r);var i=x(r,2);Re(i,e,"default",{}),y(b),U(()=>{ee(b,1,`btn ${s()??""} ${l()??""}`,"svelte-1w7e3r2"),b.disabled=f(),H(b,"aria-label",c()??a()),K(u,a())}),J("click",b,h),O(n,b),V()}var xa=P('<div class="action svelte-rt84lc"><!> <!> <!></div>');function Aa(n,e){Y(e,!1);let a=p(e,"isRunning",8);const s=ye();function f(){a()||s("start")}function c(){a()&&s("pause")}function l(){s("reset")}Q();var d=xa(),h=E(d);const b=W(()=>a()?"default":"primary");oe(h,{label:"START",get variant(){return t(b)},size:"md",onClick:f,get disabled(){return a()},ariaLabel:"Start"});var r=x(h,2);const u=W(()=>a()?"primary":"default"),i=W(()=>!a());oe(r,{label:"PAUSE",get variant(){return t(u)},size:"md",onClick:c,get disabled(){return t(i)},ariaLabel:"Pause"});var v=x(r,2);oe(v,{label:"RESET",size:"md",onClick:l,ariaLabel:"Reset"}),y(d),O(n,d),V()}var La=P('<div class="input-content svelte-cta4aq"><div class="input-label svelte-cta4aq"> </div> <div class="input-block svelte-cta4aq"><button class="input-btn svelte-cta4aq" aria-label="Menos" tabindex="-1">-</button> <input type="number" class="input-value svelte-cta4aq"/> <button class="input-btn svelte-cta4aq" aria-label="MÃ¡s" tabindex="-1">+</button></div></div>');function $(n,e){Y(e,!1);let a=p(e,"label",8),s=p(e,"value",8),f=p(e,"min",8,1),c=p(e,"max",8,60),l=p(e,"disabled",8,!1),d=p(e,"onChange",8);function h(A){return Math.max(f(),Math.min(c(),A))}function b(){l()||d()(h(s()-1))}function r(){l()||d()(h(s()+1))}function u(A){if(l())return;const R=A.target,M=h(Number((R==null?void 0:R.value)??f()));d()(M)}Q();var i=La(),v=E(i),_=E(v,!0);y(v);var S=x(v,2),k=E(S),o=x(k,2);ba(o);var m=x(o,2);y(S),y(i),U(()=>{K(_,a()),k.disabled=l()||s()<=f(),H(o,"min",f()),H(o,"max",c()),ha(o,s()),o.disabled=l(),m.disabled=l()||s()>=c()}),J("click",k,b),J("input",o,u),J("click",m,r),O(n,i),V()}var Sa=P('<div class="inputs-row svelte-lx354x"><!> <!> <!> <!></div>');function Ra(n,e){Y(e,!1);const a=L();let s=p(e,"workMinutes",8),f=p(e,"breakMinutes",8),c=p(e,"longBreakMinutes",8),l=p(e,"breaksBeforeLong",8),d=p(e,"isWork",8),h=p(e,"isLongBreak",8),b=p(e,"isRunning",8),r=p(e,"totalSeconds",8);const u=ye();function i(M){u("update",{key:"workMinutes",value:M}),d()&&u("syncPhase",{minutes:M,seconds:0})}function v(M){u("update",{key:"breakMinutes",value:M}),!d()&&!h()&&u("syncPhase",{minutes:M,seconds:0})}function _(M){u("update",{key:"longBreakMinutes",value:M}),!d()&&h()&&u("syncPhase",{minutes:M,seconds:0})}function S(M){u("update",{key:"breaksBeforeLong",value:M})}I(()=>(X(b()),X(r())),()=>{g(a,b()||r()>0)}),ue(),Q();var k=Sa(),o=E(k);$(o,{label:"WORK MIN",get disabled(){return t(a)},get value(){return s()},min:1,max:90,onChange:i});var m=x(o,2);$(m,{label:"SHORT BREAK MIN",get disabled(){return t(a)},get value(){return f()},min:1,max:30,onChange:v});var A=x(m,2);$(A,{label:"LONG BREAK MIN",get disabled(){return t(a)},get value(){return c()},min:1,max:60,onChange:_});var R=x(A,2);$(R,{label:"LONG BREAK EVERY",get value(){return l()},min:1,max:10,get disabled(){return t(a)},onChange:S}),y(k),O(n,k),V()}var Ba=P('<main class="container"><section><div class="pomodoro-header"><span class="header-title">POMODORO</span> <div class="header-status" aria-live="polite"><span class="status-label">STATUS |</span> <span class="status-value"> </span></div></div> <div class="pomodoro-content"><div class="timer"><div class="content-timer"><div class="main" aria-live="polite" aria-atomic="true"> </div> <div class="sub"><span class="sub-label">TOTAL</span> <span class="sub-value"> </span></div></div> <!></div> <div class="controls"><!> <!></div></div></section></main>');function Oa(n,e){Y(e,!1);const a=L(),s=L(),f=L(),c=L();let l=L(25),d=L(5),h=L(15),b=L(4),r=L(t(l)),u=L(0),i=L(!1),v=L(!0),_=L(!1),S=0,k=L(0),o=null;function m(){t(i)||(g(i,!0),t(r)===0&&t(u)===0&&(g(r,t(v)?t(l):t(_)?t(h):t(d)),g(u,0)),o=setInterval(()=>{le(k),t(u)===0?t(r)===0?t(v)?(S++,S<=t(b)?(g(v,!1),g(_,!1),g(r,t(d)),g(u,0)):(g(v,!1),g(_,!0),g(r,t(h)),g(u,0),S=0)):(g(v,!0),g(_,!1),g(r,t(l)),g(u,0)):(le(r,-1),g(u,59)):le(u,-1)},1e3))}function A(){g(i,!1),o&&clearInterval(o)}function R(){g(i,!1),o&&clearInterval(o),g(v,!0),g(_,!1),g(r,t(l)),g(u,0),g(k,0),S=0}function M(w){var z,ge;if(w.repeat)return;const B=w.target,C=(ge=(z=B==null?void 0:B.tagName)==null?void 0:z.toLowerCase)==null?void 0:ge.call(z);C==="input"||C==="textarea"||B!=null&&B.isContentEditable||(w.code==="Space"?(w.preventDefault(),t(i)?A():m()):(w.key||"").toLowerCase()==="r"&&R())}Pe(()=>{o&&clearInterval(o)}),I(()=>(t(v),t(_)),()=>{g(a,t(v)?"WORK":t(_)?"LONG BREAK":"BREAK")}),I(()=>(t(i),t(k),t(a)),()=>{g(s,!t(i)&&t(k)===0?"READY":t(i)?t(a):"PAUSE")}),I(()=>(t(i),t(k)),()=>{g(f,t(i)||t(k)>0)}),I(()=>(t(v),t(r),t(u),t(l),t(_),t(h),t(d)),()=>{g(c,t(v)?1-(t(r)*60+t(u))/(t(l)*60):t(_)?1-(t(r)*60+t(u))/(t(h)*60):1-(t(r)*60+t(u))/(t(d)*60))}),ue(),Q();var G=Ba();J("keydown",sa,M);var q=E(G),D=E(q),Z=x(E(D),2),j=x(E(Z),2),we=E(j,!0);y(j),y(Z),y(D);var ve=x(D,2),ae=E(ve),te=E(ae),ne=E(te),Te=E(ne);y(ne);var de=x(ne,2),ce=x(E(de),2),Ce=E(ce);y(ce),y(de),y(te);var Ne=x(te,2);const Ie=W(()=>t(c)*100);ya(Ne,{get percent(){return t(Ie)}}),y(ae);var fe=x(ae,2),_e=E(fe);Ra(_e,{get workMinutes(){return t(l)},get breakMinutes(){return t(d)},get longBreakMinutes(){return t(h)},get breaksBeforeLong(){return t(b)},get isWork(){return t(v)},get isLongBreak(){return t(_)},get isRunning(){return t(i)},get totalSeconds(){return t(k)},$$events:{update:w=>{const{key:B,value:C}=w.detail;B==="workMinutes"&&g(l,C),B==="breakMinutes"&&g(d,C),B==="longBreakMinutes"&&g(h,C),B==="breaksBeforeLong"&&g(b,C)},syncPhase:w=>{g(r,w.detail.minutes),g(u,w.detail.seconds)}}});var Oe=x(_e,2);Aa(Oe,{get isRunning(){return t(i)},$$events:{start:m,pause:A,reset:R}}),y(fe),y(ve),y(q),y(G),U((w,B,C,z)=>{ee(q,1,`pomodoro ${t(i)?"running":"paused"}`),K(we,t(s)),K(Te,`${w??""}:${B??""}`),K(Ce,`${C??""}:${z??""}`)},[()=>t(r).toString().padStart(2,"0"),()=>t(u).toString().padStart(2,"0"),()=>Math.floor(t(k)/60),()=>(t(k)%60).toString().padStart(2,"0")],W),O(n,G),V()}export{Oa as component};
